<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>NSManagedObject(StackMobSerialization) Category Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<meta name="viewport" content="width=550" />
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.0.5 (build 789)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">StackMob iOS SDK </a></h1>
				<a id="developerHome" href="../index.html">StackMob</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">NSManagedObject(StackMobSerialization) Category Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	
	
	
	
	<option value="instance_methods">Instance Methods</option>
	
	<option value="//api/name/SMDictionarySerialization:sendLocalTimestamps:">&nbsp;&nbsp;&nbsp;&nbsp;- SMDictionarySerialization:sendLocalTimestamps:</option>
	
	<option value="//api/name/SMObjectId">&nbsp;&nbsp;&nbsp;&nbsp;- SMObjectId</option>
	
	<option value="//api/name/SMPrimaryKeyField">&nbsp;&nbsp;&nbsp;&nbsp;- SMPrimaryKeyField</option>
	
	<option value="//api/name/SMSchema">&nbsp;&nbsp;&nbsp;&nbsp;- SMSchema</option>
	
	<option value="//api/name/assignObjectId">&nbsp;&nbsp;&nbsp;&nbsp;- assignObjectId</option>
	
	<option value="//api/name/primaryKeyField">&nbsp;&nbsp;&nbsp;&nbsp;- primaryKeyField</option>
	
	<option value="//api/name/valueForRelationshipKey:error:">&nbsp;&nbsp;&nbsp;&nbsp;- valueForRelationshipKey:error:</option>
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
</ul></li>









<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#instance_methods">Instance Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/SMDictionarySerialization:sendLocalTimestamps:">SMDictionarySerialization:sendLocalTimestamps:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/SMObjectId">SMObjectId</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/SMPrimaryKeyField">SMPrimaryKeyField</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/SMSchema">SMSchema</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/assignObjectId">assignObjectId</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/primaryKeyField">primaryKeyField</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/valueForRelationshipKey:error:">valueForRelationshipKey:error:</a></span></li>
	
</ul></li>


			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="NSManagedObject(StackMobSerialization) Category Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">NSManagedObject(StackMobSerialization) Category Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">NSManagedObject+StackMobSerialization.h<br />NSManagedObject+StackMobSerialization.m</td>
</tr>
						</tbody></table></div>
					
					
					
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>The methods in this category serve as the bread and butter for translating instances of <code>NSManagedObject</code> into StackMob equivalent objects.</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						
						

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/SMSchema">&ndash;&nbsp;SMSchema</a></code>
		<span class="tooltip"><p>Returns the StackMob equivalent schema for the entity name.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/SMObjectId">&ndash;&nbsp;SMObjectId</a></code>
		<span class="tooltip"><p>Returns the unique StackMob ID for this object using the designated primary key attribute for the <code>NSManagedObject</code> instance entity.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/assignObjectId">&ndash;&nbsp;assignObjectId</a></code>
		<span class="tooltip"><p>Assigns a unique ID to the <code>NSManagedObject</code> instance.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/SMPrimaryKeyField">&ndash;&nbsp;SMPrimaryKeyField</a></code>
		<span class="tooltip"><p>Converts the value returned from <a href="#//api/name/primaryKeyField">primaryKeyField</a> to its StackMob equivalent field.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/primaryKeyField">&ndash;&nbsp;primaryKeyField</a></code>
		<span class="tooltip"><p>Returns the primary key field name for this entity.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/SMDictionarySerialization:sendLocalTimestamps:">&ndash;&nbsp;SMDictionarySerialization:sendLocalTimestamps:</a></code>
		<span class="tooltip"><p>Converts an <code>NSManagedObject</code> into an equivalent dictionary form for StackMob to process.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/valueForRelationshipKey:error:">&ndash;&nbsp;valueForRelationshipKey:error:</a></code>
		<span class="tooltip"><p>Use to retrieve the value of a relationship.</p></span>
	</span>
	
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					
					
					
					
					<div class="section section-methods">
						<a title="Instance Methods" name="instance_methods"></a>
						<h2 class="subtitle subtitle-methods">Instance Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/SMDictionarySerialization:sendLocalTimestamps:" title="SMDictionarySerialization:sendLocalTimestamps:"></a>
	<h3 class="subsubtitle method-title">SMDictionarySerialization:sendLocalTimestamps:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Converts an <code>NSManagedObject</code> into an equivalent dictionary form for StackMob to process.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (NSDictionary *)SMDictionarySerialization:(BOOL)<em>serializeFullObjects</em> sendLocalTimestamps:(BOOL)<em>sendLocalTimestamps</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>serializeFullObjects</em></dt>
			<dd><p>Whether to serialize the managed object&rsquo;s recently changed values or the entire object.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>sendLocalTimestamps</em></dt>
			<dd><p>Whether to include the createddate and lastmoddate keys in the serialized dictionary.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	<div class="method-subsection availability">
		<h4 class="method-subtitle parameter-title">Availability</h4>
		<p>Available in iOS SDK 1.0.0 and later.</p>
	</div>
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">NSManagedObject+StackMobSerialization.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/SMObjectId" title="SMObjectId"></a>
	<h3 class="subsubtitle method-title">SMObjectId</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Returns the unique StackMob ID for this object using the designated primary key attribute for the <code>NSManagedObject</code> instance entity.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (NSString *)SMObjectId</code></div>

    
	
	
	
	
	
	<div class="method-subsection availability">
		<h4 class="method-subtitle parameter-title">Availability</h4>
		<p>Available in iOS SDK 1.0.0 and later.</p>
	</div>
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">NSManagedObject+StackMobSerialization.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/SMPrimaryKeyField" title="SMPrimaryKeyField"></a>
	<h3 class="subsubtitle method-title">SMPrimaryKeyField</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Converts the value returned from <a href="#//api/name/primaryKeyField">primaryKeyField</a> to its StackMob equivalent field.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (NSString *)SMPrimaryKeyField</code></div>

    
	
	
	
	
	
	<div class="method-subsection availability">
		<h4 class="method-subtitle parameter-title">Availability</h4>
		<p>Available in iOS SDK 1.0.0 and later.</p>
	</div>
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">NSManagedObject+StackMobSerialization.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/SMSchema" title="SMSchema"></a>
	<h3 class="subsubtitle method-title">SMSchema</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Returns the StackMob equivalent schema for the entity name.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (NSString *)SMSchema</code></div>

    
	
	
	
	
	
	<div class="method-subsection availability">
		<h4 class="method-subtitle parameter-title">Availability</h4>
		<p>Available in iOS SDK 1.0.0 and later.</p>
	</div>
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">NSManagedObject+StackMobSerialization.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/assignObjectId" title="assignObjectId"></a>
	<h3 class="subsubtitle method-title">assignObjectId</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Assigns a unique ID to the <code>NSManagedObject</code> instance.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (NSString *)assignObjectId</code></div>

    
	
	
	
	
	
	<div class="method-subsection availability">
		<h4 class="method-subtitle parameter-title">Availability</h4>
		<p>Available in iOS SDK 1.1.1 and later.</p>
	</div>
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>The id is placed in the object&rsquo;s primary key attribute, retrieved from <a href="#//api/name/primaryKeyField">primaryKeyField</a>. It is used as the reference when assigning a permanent ID to the Core Data <code>NSManagedObject</code> so that Core Data and StackMob are referencing the same key.</p><div class="note"><p><strong>Note:</strong> When creating an <code>NSManagedObject</code>, you must call this method and set it&rsquo;s return string as the value for the primary key field.  A call to <code>save:</code> on the managed object context will fail if any newly inserted object has a nil value for its primary key field.  To avoid this, when you are done setting other values simply add the line (assuming your new object is called newManagedObject):</p>

<pre><code>[newManagedObject setValue:[newManagedObject assignObjectId] forKey:[newManagedObject primaryKeyField]];
</code></pre></div>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">NSManagedObject+StackMobSerialization.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/primaryKeyField" title="primaryKeyField"></a>
	<h3 class="subsubtitle method-title">primaryKeyField</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Returns the primary key field name for this entity.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (NSString *)primaryKeyField</code></div>

    
	
	
	
	
	
	<div class="method-subsection availability">
		<h4 class="method-subtitle parameter-title">Availability</h4>
		<p>Available in iOS SDK 1.1.1 and later.</p>
	</div>
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>lowercaseEntityNameId or lowercaseEntityName_id is returned, if found as an attribute.</p><div class="note"><p><strong>Note:</strong> If lowercaseEntityNameId or lowercaseEntityName_id (i.e. personId or person_id for entity Person) is not one of the entity&rsquo;s attributes, a <code>SMExceptionIncompatibleObject</code> exception is thrown.</p></div>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">NSManagedObject+StackMobSerialization.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/valueForRelationshipKey:error:" title="valueForRelationshipKey:error:"></a>
	<h3 class="subsubtitle method-title">valueForRelationshipKey:error:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Use to retrieve the value of a relationship.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (id)valueForRelationshipKey:(NSString *)<em>key</em> error:(NSError *__autoreleasing *)<em>error</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>key</em></dt>
			<dd><p>The relationship name.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>error</em></dt>
			<dd><p>The error address.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The value for the relationship. If an error occurs this method will return nil for a to-one relationship and a to-many relationship will stay faulted.</p>
	</div>
	
	
	
	<div class="method-subsection availability">
		<h4 class="method-subtitle parameter-title">Availability</h4>
		<p>Available in iOS SDK 1.0.0 and later.</p>
	</div>
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>If an error is provided, it will come back non-nil if the relationship fault could not be filled. The only time this would happen is if the value of the relationship is not in memory and the network is not reachable.  The error code in this case will be -107 (SMErrorCouldNotFillRelationshipFault).</p>

<p>Example usage:</p>

<pre><code>    // Assume obj is the parent managed object
    NSError *error = nil;
    NSManagedObject *relatedObject = [obj valueForRelationshipKey:@"toOne" error:&amp;error];
    if (error) {
        // handle error
        // relatedObject will equal nil but [obj hasFaultForRelationshipNamed:@"toOne"] will return NO
    }

    error = nil;
    NSSet *relatedObjects = [obj valueForRelationshipKey:@"toMany" error:&amp;error];
    if (error) {
        // handle error
        // relatedObjects will remain a fault (instance of _NSFaultingMutableSet), [obj hasFaultForRelationshipNamed:@"toMany"] will return YES
    }
</code></pre>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">NSManagedObject+StackMobSerialization.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2013 StackMob. All rights reserved. (Last updated: 2013-05-13)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.0.5 (build 789)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>